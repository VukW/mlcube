
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation site for MLCube">
      
      
        <meta name="author" content="<MLPerf.org> mlcommons@googlegroups.com">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.4, mkdocs-material-8.2.7">
    
    
      
        <title>Runners - MLCube</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.9d5733d3.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/circular.css">
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#runners" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="MLCube" class="md-header__button md-logo" aria-label="MLCube" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MLCube
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Runners
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="MLCube" class="md-nav__button md-logo" aria-label="MLCube" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    MLCube
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Getting Started" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/hello-world/" class="md-nav__link">
        Hello World
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/mnist/" class="md-nav__link">
        MNIST
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Tutorials
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/create-mlcube/" class="md-nav__link">
        How to Create an MLCube
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Runners
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Runners" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Runners
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Runners
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Runners
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#reference-mlcube-runners" class="md-nav__link">
    Reference MLCube runners
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#runner-commands" class="md-nav__link">
    Runner commands
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-line-interface" class="md-nav__link">
    Command line interface
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-subsystem" class="md-nav__link">
    Configuration subsystem
  </a>
  
    <nav class="md-nav" aria-label="Configuration subsystem">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mlcube-system-settings-file" class="md-nav__link">
    MLCube System settings file
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="docker-runner/" class="md-nav__link">
        Docker Runner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="singularity-runner/" class="md-nav__link">
        Singularity Runner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="ssh-runner/" class="md-nav__link">
        SSH Runner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="kubernetes/" class="md-nav__link">
        Kubernetes Runner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="kubeflow/" class="md-nav__link">
        Kubeflow Runner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="gcp-runner/" class="md-nav__link">
        GCP Runner
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#reference-mlcube-runners" class="md-nav__link">
    Reference MLCube runners
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#runner-commands" class="md-nav__link">
    Runner commands
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-line-interface" class="md-nav__link">
    Command line interface
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-subsystem" class="md-nav__link">
    Configuration subsystem
  </a>
  
    <nav class="md-nav" aria-label="Configuration subsystem">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mlcube-system-settings-file" class="md-nav__link">
    MLCube System settings file
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="runners">Runners<a class="headerlink" href="#runners" title="Permanent link">&para;</a></h1>
<p>MLCube runners run MLCube cubes on one or multiple platforms. Examples of platforms are Docker and Singularity 
containers, Kubernetes, remote hosts, virtual machines in the cloud, etc. Every runner has a fixed set of configuration
parameters that users can change to configure MLCubes and runners for their environments. Concretely, runners can take
information from three different sources:
- MLCube configuration files that are located in the root directory of each file-system based MLCube. Parameters in 
  these files configure generic parameters common for all environments, such as for instance, docker image names.
- MLCube system settings file that is located (by default) in the user home directory (<code>~/mlcube.yaml</code>). This file
  is created automatically, and can be used to configure parameters common for all MLCubes in a particular environments.
  They can include docker executable, GPU and CPU docker arguments, user SSH and cloud credentials, etc.
- Optionally, runners can use parameters defined in <code>platform</code> section of MLCube configuration file. This section 
  usually contains information about such requirements as memory and persistent storage requirements, number of
  accelerators etc.</p>
<p>MLCube standard requires that all runners implement mandatory functionality. All reference runners implement it.
Users can develop their own runners to meet their specific requirements, such as security, authentication and
authorization policies, and others.   </p>
<h2 id="reference-mlcube-runners">Reference MLCube runners<a class="headerlink" href="#reference-mlcube-runners" title="Permanent link">&para;</a></h2>
<p>Reference runners are:</p>
<ul>
<li><code>Docker Runner</code>: Runs cubes locally using docker runtime.  </li>
<li><code>GCP Runner</code>: Runs cubes in Google cloud.  </li>
<li><code>Kubernetes Runner</code>: Runs cubes in Kubernetes.  </li>
<li><code>Kubeflow Runner</code>: Runs cubes using Kubeflow.  </li>
<li><code>Singularity Runner</code>: Runs cubes using singularity runtime.    </li>
<li><code>SSH Runner</code>: Runs cubes on remote hosts. SSH Runner uses other runners, such as Docker or Singularity runners, to
  run cubes on remote hosts.  </li>
</ul>
<h2 id="runner-commands">Runner commands<a class="headerlink" href="#runner-commands" title="Permanent link">&para;</a></h2>
<p>Each runner exposes mandatory and optional functionality through a set of commands. This is similar to, for instance,
how Git implements its CLI (<code>git</code> followed by a specific command such as <code>checkout</code>, <code>pull</code>, <code>push</code> etc.). Mandatory
MLCube runner commands are <code>configure</code> and <code>run</code>:  </p>
<ul>
<li><code>configure</code>: Configure MLCube. Exact functionality depends on a runner type, but the goal is to ensure that 
  a cube is ready to run. The following are the examples of what can be done at configure phase: build docker or 
  singularity container, create python virtual environment, allocate and configure virtual machine in the cloud, copy
  cube to a remote host etc. Once configuration is successfully completed, it is assumed a runner can run that cube.  </li>
<li><code>run</code>: Run tasks defined in MLCube.  </li>
</ul>
<p>Reference runners recognize three parameters - mlcube, platform and task.</p>
<ul>
<li><code>mlcube</code>: Path to a cube root directory. In future versions, this can be a URI with a specific protocol. Runners
  could support various MLCube implementations (excluding reference directory-based) such as docker/singularity 
  containers, GitHub repositories, compressed archives and others.  </li>
<li><code>platform</code>: Name of a platform. By default, runners create standard platform configurations in MLCube system settings
  file with predefined names. Users can change those names and use them on a command line. For instance, they can have
  different names for an 8-way GPU server and a simple CPU-based server for SSH runner.  </li>
<li><code>task</code>: Name of a task, or comma-separated list of tasks.  </li>
</ul>
<h2 id="command-line-interface">Command line interface<a class="headerlink" href="#command-line-interface" title="Permanent link">&para;</a></h2>
<p>One way to run a MLCube is to follow the following template supported by all reference runners:
<code>shell
mlcube COMMAND --mlcube=MLCUBE_ROOT_DIRECTORY --platform=PLATFORM_NAME --task=TASK_NAME</code></p>
<p>Example command to configure MNIST Docker-based MLCube:
<code>shell
mlcube configure --mlcube=examples/mnist --platform=docker</code></p>
<p>Example command to run two tasks implemented by the MNIST Docker-based MLCube:
<code>shell
mlcube run --mlcube=examples/mnist --platform=docker --task=download
mlcube run --mlcube=examples/mnist --platform=docker --task=train</code></p>
<h2 id="configuration-subsystem">Configuration subsystem<a class="headerlink" href="#configuration-subsystem" title="Permanent link">&para;</a></h2>
<p>Runners are configured using information from three different sources:</p>
<ul>
<li>The base configuration comes from the system settings file. By default, the location of this file is 
  <code>${HOME}/mlflow.yaml</code>. It is created automatically whenever a user runs <code>mlcube</code> command line tool. The purpose of
  this file is to provide system-wide configuration for runners that are specific to user and their environment. This
  is kind of information that should not generally present in MLCube configuration files (next item). It shoud include
  such information as docker executable (docker, sudo docker, nvidia-docker, podman, etc), docker-specific runtime
  arguments, user credentials for GCP and remote hosts, information about remote hosts etc.</li>
<li>The MLCube configuration file that is available with each MLCube cube. This file contains (as of now) such parameters,
  as docker and singularity image names, MLCube resource requirements and tasks. This information overrides information
  from system settings file.</li>
<li>Configuration that is provided on a command line. Users are allowed (but not encouraged) to override parameters on
  the fly when they run MLCube cubes.</li>
</ul>
<h3 id="mlcube-system-settings-file">MLCube System settings file<a class="headerlink" href="#mlcube-system-settings-file" title="Permanent link">&para;</a></h3>
<p>Example of MLCube system settings file (<code>${HOME}/mlcube.yaml</code>) is the following. As it was mentioned above, it is
created automatically by searching packages that start with <code>mlcube_</code>. Such packages must provide <code>get_runner_class</code>
function that must return a runner class derived from <code>Runner</code>. 
```yaml</p>
<h1 id="this-section-maps-a-runner-name-to-a-runner-package-this-is-one-way-how-developers-can-plug-in">This section maps a runner name to a runner package. This is one way how developers can plug in<a class="headerlink" href="#this-section-maps-a-runner-name-to-a-runner-package-this-is-one-way-how-developers-can-plug-in" title="Permanent link">&para;</a></h1>
<h1 id="their-custom-runners-python-package-or-this-type-of-association-could-be-one-of-many-ways-to">their custom runners. Python package, or this type of association, could be one of many ways to<a class="headerlink" href="#their-custom-runners-python-package-or-this-type-of-association-could-be-one-of-many-ways-to" title="Permanent link">&para;</a></h1>
<h1 id="implement-runners">implement runners.<a class="headerlink" href="#implement-runners" title="Permanent link">&para;</a></h1>
<p>runners:
  docker:                      # MLCube Docker reference runner
    pkg: mlcube_docker
  gcp:                         # MLCube Google Cloud Platform reference runner
    pkg: mlcube_gcp
  k8s:                         # MLCube Kubernetes reference runner
    pkg: mlcube_k8s
  kubeflow:                    # MLCube KubeFlow reference runner
    pkg: mlcube_kubeflow
  singularity:                 # MLCube Singularity reference runner
    pkg: mlcube_singularity
  ssh:                         # MLCube SSH reference runner
    pkg: mlcube_ssh</p>
<h1 id="this-section-defines-configurations-for-the-above-runners-it-is-a-dictionary-mapping-platform">This section defines configurations for the above runners. It is a dictionary mapping platform<a class="headerlink" href="#this-section-defines-configurations-for-the-above-runners-it-is-a-dictionary-mapping-platform" title="Permanent link">&para;</a></h1>
<h1 id="name-to-a-runner-configuration-these-names-could-be-any-names-for-instance-users-can-have">name to a runner configuration. These names could be any names. For instance, users can have<a class="headerlink" href="#name-to-a-runner-configuration-these-names-could-be-any-names-for-instance-users-can-have" title="Permanent link">&para;</a></h1>
<h1 id="two-platforms-for-an-ssh-runner-pointing-to-two-different-remote-hosts-the-platform-names-are">two platforms for an SSH runner pointing to two different remote hosts. The platform names are<a class="headerlink" href="#two-platforms-for-an-ssh-runner-pointing-to-two-different-remote-hosts-the-platform-names-are" title="Permanent link">&para;</a></h1>
<h1 id="those-passed-to-mlcube-tool-using-platform-command-line-argument">those passed to mlcube tool using <code>--platform</code> command line argument.<a class="headerlink" href="#those-passed-to-mlcube-tool-using-platform-command-line-argument" title="Permanent link">&para;</a></h1>
<p>platforms:
  # Docker runner configuration. The only parameter that is supposed to be present in MLCube
  # configuration files is image name (<code>image</code>). For other parameters, see Docker Runner
  # documentation page.
  docker:
    runner: docker
    image: ${docker.image}
    docker: docker
    env_args: {}
    gpu_args: ''
    cpu_args: ''
    build_args: {}
    build_context: .
    build_file: Dockerfile
    build_strategy: pull
  # Google Cloud Platform runner. None of these configuration parameters are supposed to be 
  # present in MLCube configuration files.  For other parameters, see GCP Runner documentation 
  # page.
  gcp:
    runner: gcp
    gcp:
      project_id: ''
      zone: ''
      credentials: ''
    instance:
      name: ''
      machine_type: ''
      disk_size_gb: ''
    platform: ''
  # Kubernetes runner. None of these configuration parameters are supposed to be present in 
  # MLCube configuration files.  For other parameters, see Kubernetes Runner documentation page.
  k8s:
    runner: k8s
    pvc: ${name}
    image: ${docker.image}
    namespace: default
  # Kubeflow runner. None of these configuration parameters are supposed to be present in 
  # MLCube configuration files.  For other parameters, see Kubeflow Runner documentation page.
  kubeflow:
    runner: kubeflow
    image: ${docker.image}
    pvc: ???
    namespace: default
    pipeline_host: ''
  # Singularity runner configuration. The only parameter that is supposed to be present in MLCube
  # configuration files is image name (<code>image</code>). For other parameters, see Singularity Runner
  # documentation page.
  singularity:
    runner: singularity
    image: ${singularity.image}
    image_dir: ${runtime.workspace}/.image
    singularity: singularity
    build_args: --fakeroot
    build_file: Singularity.recipe
  # SSH runner. None of these configuration parameters are supposed to be present in 
  # MLCube configuration files.  For other parameters, see SSH Runner documentation page.
  ssh:
    runner: ssh
    host: ''
    platform: ''
    remote_root: ''
    interpreter: {}
    authentication: {}</p>
<h1 id="dedicated-section-to-define-future-data-storage-layer-its-work-in-progress">Dedicated section to define future data <code>storage</code> layer. It's work in progress.<a class="headerlink" href="#dedicated-section-to-define-future-data-storage-layer-its-work-in-progress" title="Permanent link">&para;</a></h1>
<p>storage: {}
```</p>
<p>Users can and should update configuration parameters according to their environment. Also, please backup this file
regularly. One possibility is to move this file to a location that is regularly snapshoted. When non-standard path is
used, users must define a <code>MLCUBE_SYSTEM_SETTINGS</code> environment variable that points to this new location.</p>
<p>Users can also duplicate runner sections assigning names accordingly, like it was mentioned above. For instance,
users can have two ssh sections one for each different host:
<code>yaml
platforms:
  my_dev_server_1:
    runner: ssh
    # Other parameters ...
  my_dev_server_2:
    runner: ssh
    # Other parameters ...</code>
and then
<code>shell
mlcube run --mlcube=. --task=MY_TASK --platform=my_dev_server_2</code></p>
<p>MLCube runtime provides minimal functionality to interact with system settings file:
```shell</p>
<h1 id="print-system-settings-file">Print system settings file<a class="headerlink" href="#print-system-settings-file" title="Permanent link">&para;</a></h1>
<p>mlcube config --list</p>
<h1 id="query-a-value-associated-with-the-particular-key">Query a value associated with the particular key<a class="headerlink" href="#query-a-value-associated-with-the-particular-key" title="Permanent link">&para;</a></h1>
<p>mlcube config --get runners
mlcube config --get platforms.docker</p>
<h1 id="create-a-new-fresh-platform-for-this-runner">Create a new fresh platform for this runner<a class="headerlink" href="#create-a-new-fresh-platform-for-this-runner" title="Permanent link">&para;</a></h1>
<p>mlcube config --create-platform ssh my_dev_server_1
mlcube config --get platforms.my_dev_server_1</p>
<h1 id="rename-platform">Rename platform<a class="headerlink" href="#rename-platform" title="Permanent link">&para;</a></h1>
<p>mlcube config --rename-platform my_dev_server_1 my_dev_server_2
mlcube config --get platforms.my_dev_server_2</p>
<h1 id="remove-platform-from-the-system-settings-file">Remove platform from the system settings file<a class="headerlink" href="#remove-platform-from-the-system-settings-file" title="Permanent link">&para;</a></h1>
<p>mlcube config --remove-platform my_dev_server_2</p>
<h1 id="create-a-new-platform-copying-configuration-of-one-of-existing-platforms">Create a new platform copying configuration of one of existing platforms.<a class="headerlink" href="#create-a-new-platform-copying-configuration-of-one-of-existing-platforms" title="Permanent link">&para;</a></h1>
<p>mlcube config --copy-platform EXISTING_PLATFORM NEW_PLATFORM</p>
<h1 id="rename-existing-runner">Rename existing runner<a class="headerlink" href="#rename-existing-runner" title="Permanent link">&para;</a></h1>
<p>mlcube config --rename-runner OLD_NAME NEW_NAME</p>
<h1 id="remove-runner">Remove runner<a class="headerlink" href="#remove-runner" title="Permanent link">&para;</a></h1>
<p>mlcube config --remove-runner NAME
```</p>
<blockquote>
<p>Removed standard runners (MLCube reference runners) will be recreated when mlcube runs next time.</p>
</blockquote>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../tutorials/create-mlcube/" class="md-footer__link md-footer__link--prev" aria-label="Previous: How to Create an MLCube" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              How to Create an MLCube
            </div>
          </div>
        </a>
      
      
        
        <a href="docker-runner/" class="md-footer__link md-footer__link--next" aria-label="Next: Docker Runner" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Docker Runner
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.5e67fbfe.min.js"}</script>
    
    
      <script src="../assets/javascripts/bundle.e87a5f81.min.js"></script>
      
    
  </body>
</html>